<!doctype html>
<html>
<head>
<meta charset="utf-8"/>

 <title>Numeros Triangulares</title>
 
<script src="https://d3js.org/d3.v4.min.js"></script>
</head>
<body>

      <h1><a href="https://ideiasesquecidas.com"> <img src=	"https://ideiasesquecidas.files.wordpress.com/2020/03/forgottenlogo.png" width="90" height = "50"></a> Números Triangulares</h1>
	

<script type = "text/javascript">
    var svg = d3.select("body")
        .append("svg")
        .attr("width", 800)
        .attr("height", 600);

      Desenhar();
		
	
	function Desenhar()
	{
	svg.selectAll("*").remove();

	var N = 15;
	var dx = 35;
	var dy = 35;
	var raio = 15;
	var dtempo=100;
	var base =[];
	var i;
	var j;
	var soma= 0;
	var ntriangulares=[];
	var x0=[];
	var y0=[];
	var xbase=[];
	var ybase=[];
	var tempo=[];
	var tbase=[];
	var cor=[];
	
	
	for (i=1; i<=N;i++)
	{
		for (j=1;j<=i;j++)
		{
			soma+=1;
			x0.push(dx*(j) + (N-i)/2*dx);
			y0.push(dy*i);
			tempo.push(i*dtempo);
			cor.push("rgb(0,0," + Math.round(255 - i*180/N).toString() +")");
		}
		ntriangulares.push(soma);
		xbase.push(dx*i + (N-i)/2*dx + 2.3*dx);
		ybase.push(dy*i);
		tbase.push(i*dtempo);
		
		
	}
	
	
	//Círculos
		var circle1 = svg.selectAll("circle")
			.data(x0)
			.enter()
			.append("circle")
			.transition()
			.delay(function(d,i){ return tempo[i]})
			.duration(200)
			.attr("cx", function(d,i){ return (x0[i])+50} )
			.attr("cy", function(d,i){ return (y0[i])+20} )
			.attr("r", raio)
			.attr("fill",  function(d,i){ return (cor[i])} )
			.attr("stroke", "black")
			
		
		var text1 = svg.selectAll("text")
			.data(ntriangulares)
			.enter()	
			.append("text")			
			.transition()
			.duration(200)
			.delay(function(d,i){ return tbase[i]})
			.attr("x", function(d,i){ return (xbase[i])})
			.attr("y", function(d,i){ return (ybase[i])+27})
			.text(function(d,i){ return (ntriangulares[i])})
			.attr("font-size",25)
	
	
	}
	
	
  </script>
</body>
</html>